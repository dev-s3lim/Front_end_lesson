<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Object</title>

    <script>
        function showObject(){
            let person = {name:"hong", email: "hong@naver.com", age: 30};
            console.log(person);
            console.log(person.name);
            console.log(person['name']);

            //object.keys(객체명) : 객체의 키를 배열형태로 전환
            const keyArr = Object.keys(person);
            for (let i =0; i<keyArr.length; i++){
                console.log(person[keyArr[i]]);
            }
            keyArr.forEach(k=>console.log(person[k]));

            //객체의 변경
            person.age = 20;
            console.log(person);
        }
        function makeObject(){
            //Literal 방식 (흔치않음)
            let person1 = {name:"hong", email: "hong@naver.com", age: 30};
            //빈 객체 생성 후 키와 값을 직접 추가
            let person2 = {};
            person2.name = "kim";
            person2['email'] = "kim@naver.com";
            person2.age = 30;
            person2.password = "12345";

            console.log(person2);

            // 키와 밸류 값이 동일하게 사용될때 간편하게 객체 생성하는 방식
            const name = "lee";
            const age = 30;
            const person3 = {name:name, age:age}; 
            const person4 = {name, age}; //단축속성명방식 = {name:name, age:age};

            const obj1 = {key1:"value1"};
            const obj2 = {obj1}; // obj2 = {obj1:{key1:"value1"}}; *** 중요! ***
            console.log(obj2);

            //스프레드 문법
            const obj3 = {a:1, b:2}; // 중복된 키 제거
            const obj4 = {...obj3, c:3}; // 올바른 변수명 사용
            console.log(obj4);

            const arr1 = [1,2,3];
            const arr2 = [...arr1, 4,5];
            console.log(arr2);
        }

        function makeArr() {
            let fruits = ['사과', '배', '바나나'];
            fruits.push('포도');
            //push 추가
            console.log(fruits);
            console.log(fruits.pop());            
            //stack 구조
            console.log(fruits);
            console.log(fruits[0]);      
            //배열의 수정
            fruits[0] = '오렌지';
            console.log(fruits);
            
            //filter, map
            const nums = [1,2,3,4,5,6];
            const newNums1 = nums.filter(a=>a%2==0);
            console.log(newNums1);

            const newNums2 = nums.map(a=>a*a);
            console.log(newNums2);
        }

        function makeInnerArr() {
            let arr = [{name:'임성후', age:33},{name:'김송옥', age:32},{name:'을지문덕', age:99},];
            //모든 객체에 이메일 추가
            console.log(arr);

            //test@naver.com 추가하기
            for (let i =0; i<arr.length; i++){
                arr[i].email = "test@naver.com";
            }
            console.log(arr);

            //또는
            const newArr = arr.map(a=>{return {...a, email:"test@naver.com"}});
            console.log(newArr);
        }

        function convertType() {
            let str1 = "10";
            let str2 = "hello"
            let num1 = Number(str1); // 문자를 숫자로 형변환

            console.log(typeof str1);
            console.log(typeof num1);

            num1 = String(num1); // 숫자를 문자로 형변환

            let num2 = Number(str2); //NaN (Not a Number) 담김 => 오류
            console.log(num2);

            // ==는 타입은 체크하지 않음
            console.log(10 == '10'); //true
            // ===는 타입까지 체크
            console.log(10 === '10'); //false      

            let var1; //undefined
            let var2 = null; //null 할당

            console.log(var1 == var2); //true
            console.log(var1 === var2); //false

        }

    </script>

</head>
<body>
    <h2>javascript 객체</h2>

    <button onclick = "showObject()">객체조회</button>

    <h2>javascript 객체 생성</h2>

    <button onclick = "makeObject()">객체생성</button>

    <button onclick = "makeArr()">배열 생성</button>

    <button onclick = "makeInnerArr()">배열 안에 객체생성</button>

    <button onclick = "convertType()">형변환</button>
</body>
</html>